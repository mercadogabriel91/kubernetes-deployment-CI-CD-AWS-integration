apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: k-challenge-namespace

# Base configuration
resources:
  - ../../base

# Image replacements - these override the placeholder images in base deployments
# Account ID and region are hardcoded here (not secrets, just identifiers)
images:
  - name: auxiliary-service
    newName: 575907498612.dkr.ecr.us-east-1.amazonaws.com/k-challenge-dev-auxiliary-service
    newTag: f4541eb9641d8d4908076da138ae4e233c3d432d
  - name: main-api
    newName: 575907498612.dkr.ecr.us-east-1.amazonaws.com/k-challenge-dev-main-api
    newTag: f4541eb9641d8d4908076da138ae4e233c3d432d
# Note: We don't use commonLabels here because it would modify
# Deployment selectors (which are immutable). Labels are defined
# directly in the deployment files.
#
# Image tags are updated by GitHub Actions workflow after building new images.
# Argo CD auto-syncs when Git changes.

