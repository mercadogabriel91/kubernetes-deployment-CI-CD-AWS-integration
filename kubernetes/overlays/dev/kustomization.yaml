apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: k-challenge-namespace

# Base configuration
resources:
  - ../../base

# Image replacements - these override the placeholder images in base deployments
# AWS Account ID and Region are dynamically replaced from Parameter Store
# Use scripts/update-kustomization-from-parameter-store.sh to update this file
images:
  - name: auxiliary-service
    newName: 575907498612.dkr.ecr.us-east-1.amazonaws.com/k-challenge-dev-auxiliary-service
    newTag: latest
  - name: main-api
    newName: 575907498612.dkr.ecr.us-east-1.amazonaws.com/k-challenge-dev-main-api
    newTag: latest

# Note: We don't use commonLabels here because it would modify
# Deployment selectors (which are immutable). Labels are defined
# directly in the deployment files.

